{
	"swagger": "2.0",
	"info": {
		"description": "This is a sample book store API",
		"version": "1.0.0",
		"title": "Swagger Bookself",
		"contact": {
			"email": "claudio@bookself.test"
		},
		"license": {
			"name": "Apache 2.0",
			"url": "http://www.apache.org/licenses/LICENSE-2.0.html"
		}
	},
	"host": "bookself.test",
	"basePath": "/",
	"tags": [
		{
			"name": "book",
			"description": "Books repository"
		},
		{
			"name": "author",
			"description": "Authors agenda"
		},
		{
			"name": "store",
			"description": "Stores information"
		}
	],
	"schemes": [
		"https",
		"http"
	],
	"paths": {
		"/books": {
			"get": {
				"tags": [ "book" ],
				"summary": "Get the entire catalog",
				"description": "TBD",
				"operationId": "books",
				"produces": [ "application/json" ],
				"parameters": [ ],
				"responses": {
					"200": {
						"description": "books",
						"schema": {
							"$ref": "#/definitions/Books"
						}
					}
				},
				"security": [
					{
						"bookself_auth": [
							"write:jwt",
							"read:jwt"
						]
					}
				]
			}
		}
	},
	"securityDefinitions": {
		"jwt": {
			"type": "token",
			"name": "jwt_token",
			"in": "header"
		}
	},
	"definitions": {
		"Books": {
			"type": "object",
			"required": [ "books" ],
			"properties": {
				"books": {
					"type": "array",
					"items": { "type": "#/definitions/Book" }
				}
			}
		},
		"Book": {
			"type": "object",
			"required": [
				"title",
				"authors",
				"isbn"
			],
			"properties": {
				"title": {
					"type": "string"
				},
				"authors": {
					"type": "array",
					"items": {
						"type": "#/definitions/Author"
					}
				},
				"isbn": {
					"type": "string"
				},
				"stores": {
					"type": "array",
					"items": {
						"type": "#/definitions/Store"
					}
				},
				"genre": {
					"type": "string"
				},
				"description": {
					"type": "string"
				},
				"reviews": {
					"type": "array",
					"items": {
						"type": "#/definitions/ClientReview"
					}
				},
				"price": {
					"type": "number",
					"format": "float"
				}
			}
		},
		"Author": {
			"type": "object",
			"required": [
				"name"
			],
			"properties": {
				"name": {
					"type": "string"
				},
				"description": {
					"type": "string"
				},
				"books": {
					"type": "array",
					"items": {
						"type": "#/definitions/Book"
					}
				},
				"website": {
					"type": "string"
				},
				"image": {
					"type": "string"
				}
			}
		},
		"Store": {
			"type": "object",
			"required": [
				"name"
			],
			"properties": {
				"name": {
					"type": "string"
				},
				"address": {
					"type": "string"
				},
				"state": {
					"type": "string"
				},
				"phone": {
					"type": "string"
				},
				"employees": {
					"type": "array",
					"items": {
						"type": "#/definitions/Employee"
					}
				}
			}
		},
		"Employee": {
			"type": "object",
			"required": [
				"email", "hireDate"
			],
			"properties": {
				"firstName": {
					"type": "string"
				},
				"lastName": {
					"type": "string"
				},
				"birthdate": {
					"type": "string",
					"format": "date"
				},
				"address": {
					"type": "string"
				},
				"phone": {
					"type": "string"
				},
				"email": {
					"type": "string"
				},
				"hireDate": {
					"type": "string",
					"format": "date"
				},
				"store": {
					"$ref": "#/definitions/Store"
				}
			}
		},
		"Client": {
			"type": "object",
			"required": [ "email" ],
			"properties": {
				"name": {
					"type": "string"
				},
				"address": {
					"type": "string"
				},
				"phone": {
					"type": "string"
				},
				"email": {
					"type": "string"
				}
			}
		},
		"BookSale": {
			"type": "object",
			"required": [ "date", "books", "store", "employee", "totalAmount" ],
			"properties": {
				"date": {
					"type": "string",
					"format": "date-time"
				},
				"books": {
					"type": "array",
					"items": {
						"type": "#/definitions/Book"
					}
				},
				"store": {
					"$ref": "#/definitions/Store"
				},
				"employee": {
					"$ref": "#/definitions/Employee"
				},
				"client": {
					"$ref": "#/definitions/Client"
				},
				"totalAmount": {
					"type": "number",
					"format": "float"
				}
			}
		},
		"ClientReview": {
			"type": "object",
			"required": [ "client", "book", "stars" ],
			"properties": {
				"client": {
					"$ref": "#/definitions/Client"
				},
				"book": {
					"$ref": "#/definitions/Book"
				},
				"content": {
					"type": "string"
				},
				"stars": {
					"type": "integer",
					"format": "int32"
				}
			}
		}
	}
}
